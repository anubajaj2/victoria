sap.ui.define(["victoria/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageBox","sap/ui/core/routing/History","sap/m/MessageToast","victoria/models/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,s,a,d,l,r){"use strict";return e.extend("victoria.controller.Entry",{formatter:d,clearOnSend:false,onInit:function(){debugger;var t=this;this.resourceBundle=this.getOwnerComponent().getModel("i18n").getResourceBundle();var i=this.getModel("local").getProperty("/CurrentUser");var s=this.getModel("local").oData.AppUsers[i].UserName;s="Hey "+s;this.getView().byId("idUser").setText(s);this.getOwnerComponent().getModel("local").setProperty("/materialEnable",false);e.prototype.onInit.apply(this);var a=this.getRouter();a.getRoute("Entry").attachMatched(this._onRouteMatched,this)},getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},onAfterRendering:function(){var e=this.getView().byId("idCust");e.attachBrowserEvent("focus",function(t){var i=new sap.ui.model.Filter("Customer","EQ",e);e.setModel(i)})},_onRouteMatched:function(){var e=this;e.getView().getModel("local").setProperty("/EntryData/Date",new Date);e.getView().getModel("local").setProperty("/materialEnable",true);this.getView().byId("DateId").setDateValue(new Date);var i=new t;i.setData({materialEnable:false});e.getView().setModel(i,"material");var e=this;this.ODataHelper.callOData(this.getOwnerComponent().getModel(),"/CustomCalculations","GET",null,null,this).then(function(t){e.getView().getModel("local").setProperty("/EntryLayout",t.results[0].EntryLayout)}).catch(function(e){});var s=new t({CustomerCodeState:"None",CityState:"None",GroupState:"None",NameState:"None",TypeState:"None"});this.setModel(s,"dataModel");this.ODataHelper.callOData(this.getOwnerComponent().getModel(),"/Customers","GET",{},{},this).then(function(i){var s=new t;s.setData(i);e.getView().setModel(s,"customerModelInfo")}).catch(function(t){a.show(e.resourceBundle.getText("ReqField"))});this.ODataHelper.callOData(this.getOwnerComponent().getModel(),"/Groups","GET",{},{},this).then(function(i){var s=new t;s.setData(i);e.getView().setModel(s,"groupModelInfo")}).catch(function(t){a.show(e.resourceBundle.getText("ReqField"))});$(document).keydown(function(t){var i=document.URL.split("/");if(i[i.length-1]==="Customers"){if(t.keyCode==68&&t.ctrlKey&&t.altKey){t.preventDefault();e.deleteAllCustomers()}else if(t.keyCode==69&&t.ctrlKey&&t.altKey){t.preventDefault();e.deleteAllEntrys()}else if(t.keyCode==65&&t.ctrlKey&&t.altKey){t.preventDefault();e.deleteAllTables()}}})},onValueHelpRequest:function(e){this.getCustomerPopup(e)},onEnter:function(e){this.getCustomer(e);this.getView().byId("idCash").focus();this.getView().byId("idCash").$().find("input").select()},onPayDateChange:function(e){var t=this;var i=t.getView().getModel("local").getProperty("/EntryData");var s=t.getView().byId("DateId").getDateValue();var a=s;a.setHours(0,0,0,0);if(a.getTimezoneOffset()>0){a.setMinutes(a.getMinutes()+a.getTimezoneOffset())}else{a.setMinutes(a.getMinutes()-a.getTimezoneOffset())}var d=new Date(a);d.setHours(23,59,59,59);if(d.getTimezoneOffset()>0){d.setMinutes(d.getMinutes()+d.getTimezoneOffset())}else{d.setMinutes(d.getMinutes()-d.getTimezoneOffset())}var r=new l([new sap.ui.model.Filter("Date",sap.ui.model.FilterOperator.BT,a,d)],true);t.getView().byId("idTable").getBinding("items").filter(r);t.getView().byId("idTable1").getBinding("items").filter(r);t.getView().byId("idTable2").getBinding("items").filter(r);t.getView().byId("idCash").focus();t.getView().byId("idCash").$().find("input").select();a.setHours(0,0,0,0);d=new Date(a);d.setHours(23,59,59,59);$.post("/getTotalEntryCustomerBetween",{Customer:"",max:d.toISOString(),min:a.toISOString()}).then(function(e){console.log(e);t.byId("idTC").setText(parseFloat(e.CashTotal).toFixed(2));t.byId("idTC").getText();parseFloat(t.byId("idTC").getText());if(parseFloat(t.byId("idTC").getText())>0){t.byId("idTC").setState("Success")}else{t.byId("idTC").setState("Warning")}t.getView().byId("idG").setText(parseFloat(e.GoldTotal.toFixed(3)));t.byId("idG").getText();parseFloat(t.byId("idG").getText());if(parseFloat(t.byId("idG").getText())>0){t.byId("idG").setState("Success")}else{t.byId("idG").setState("Warning")}t.getView().byId("idS").setText(parseFloat(e.SilverTotal.toFixed(2)));t.byId("idS").getText();parseFloat(t.byId("idS").getText());parseFloat(t.byId("idS").getText()).toFixed(3);if(parseFloat(parseFloat(t.byId("idS").getText()).toFixed(3))>0){t.byId("idS").setState("Success")}else{t.byId("idS").setState("Warning")}})},onSearch1:function(e){const t=e.key;var i=e.getParameter("id").split("--")[2];var s=new sap.ui.model.Sorter({path:"CustomerCode",descending:false});var a=e.getParameter("suggestValue");if(a===""||t==8||t==="Backspace"||t==="Delete"){this.getView().byId("idCust").setValue("");return}if(!a){a=e.getParameter("newValue")}if(a){var d=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("CustomerCode",sap.ui.model.FilterOperator.Contains,a.toUpperCase()),new sap.ui.model.Filter("Name",sap.ui.model.FilterOperator.Contains,a.toUpperCase())],and:false})}e.getSource().getBinding("suggestionItems").filter(d);this.getView().byId("idCust").setValue(a);e.getSource().getBinding("suggestionItems").sort(s)},onSuggest1:function(e){var t=this.byId("idCust").getBinding("suggestionItems");if(t.isSuspended()){aFilters.push(new l("CustomerCode",r.Contains,t));aFilters.push(new l("Name",r.Contains,t));e.getSource().getBinding("suggestionItems").filter(new l({filters:aFilters,and:false}));t.resume()}},handleSuggest:function(e){var t=e.getSource();if(!t.getSuggestionItems().length){t.bindAggregation("suggestionItems",{path:"/Customers",template:new sap.ui.core.ListItem({text:"{CustomerCode}",additionalText:"{Name}"})});e.getSource().getBinding("suggestionItems").filter(t);e.getSource().getBinding("suggestionItems").refresh(true)}},onCustomerSelect1:function(e,t,i){if(e.getParameter("selectedItem")){var s=e.getParameter("selectedItem").getBindingContext().getObject();this.setCustomerIdAndCustomerName(s);jQuery.sap.delayedCall(100,this,function(){this.getView().byId("idCash").focus();this.getView().byId("idCash").$().find("input").select()})}},valuesChangeMaterial:function(e){this.getView().byId("idweight").focus();this.getView().byId("idweight").$().find("input").select();const t=e.getSource().mProperties.value;const i=this.allMasterData.materialsId[t];if(i==undefined){this.getView().byId("idMatText").setText()}else{this.getView().byId("idMat").setValue(i.ProductCode);this.getView().byId("idMatText").setText(i.ProductName+" - "+i.Type)}},onCalculate:function(e){var t=this.byId("idweight").getValue();var i=this.byId("idtunch").getValue();var s=t*i/100;if(s===0||s===""){a.show("enter the correct Weight value")}var d="Silver Received @"+t+"x"+i;var l="Gold Received @"+t+"x"+i;var r="Kacchi Received @"+t+"x"+i;var o="Silver Given @"+t+"x"+i;var g="Gold Given @"+t+"x"+i;var n="Kacchi Given @"+t+"x"+i;var u="Kaccha Sona Received @"+t+"x"+i;var y="Kaccha Sona Given @"+t+"x"+i;if(this.getView().byId("RB-4").getSelected()&&!this.getView().byId("idMatText").getText()){a.show("Please Select the Material to Calculate");return}else{var h=this.getView().byId("idMatText").getText().split("-")[1]}var I=this.getView().byId("idMatText").getText();var b=I+" "+"ke jama "+t+"x"+i;var c=I+" "+"ke naam "+t+"x"+i;if(s>0&&this.getView().byId("RB-1").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(d)}else if(s>0&&this.getView().byId("RB-2").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(l)}else if(s>0&&this.getView().byId("RB-3").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(r)}else if(s>0&&this.getView().byId("RB-5").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(u)}else if(s>0&&this.getView().byId("RB-4").getSelected()&&(h.includes("Gold")||h.includes("GLD"))){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(b)}else if(s>0&&this.getView().byId("RB-4").getSelected()&&(h.includes("Silver")||h.includes("SLV"))){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(b)}else if(s>0&&this.getView().byId("RB-4").getSelected()&&h.includes("GS")){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(b)}else if(s<0&&this.getView().byId("RB-4").getSelected()&&(h.includes("Gold")||h.includes("GLD"))){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(c)}else if(s<0&&this.getView().byId("RB-4").getSelected()&&(h.includes("Silver")||h.includes("SLV"))){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(c)}else if(s<0&&this.getView().byId("RB-4").getSelected()&&h.includes("GS")){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(c)}else if(s<0&&this.getView().byId("RB-1").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(o)}else if(s<0&&this.getView().byId("RB-2").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(g)}else if(s<0&&this.getView().byId("RB-3").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/1e3;this.getView().byId("idSilver").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(2)))}else{this.getView().byId("idSilver").setValue(parseFloat(s.toFixed(2)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idGold").setValue(0);this.getView().byId("idRemarks").setValue(n)}else if(s<0&&this.getView().byId("RB-5").getSelected()){if(this.getView().byId("rsCalculationBox").getSelected()){s=t*i/10;this.getView().byId("idGold").setValue(0);this.getView().byId("idCash").setValue(parseFloat(s.toFixed(3)))}else{this.getView().byId("idGold").setValue(parseFloat(s.toFixed(3)));this.getView().byId("idCash").setValue(0)}this.getView().byId("idSilver").setValue(0);this.getView().byId("idRemarks").setValue(y)}},onPressGWiseDownload:function(){var e="Group_Wise_Report";if(!this.oDialog1){this.oDialog1=new sap.ui.xmlfragment(this.getView().getId(),"victoria.fragments.entryGroup",this);this.getView().addDependent(this.oDialog1)}this.oDialog1.open()},onGroupWiseRadioSelect:function(e){var t=this.getView().byId("id1").getSelected();if(t){this.getView().byId("idGroup1").setEditable(true)}else{this.getView().byId("idGroup1").setEditable(false)}},onPressHandleEntrySavePopup1:function(){if(this.getView().byId("idAll").getSelected()){window.open("/groupWiseEntryDownload?type=Group_Wise_Report&group=00")}else if(this.getView().byId("id1").getSelected()){var e=this.getView().byId("idGroup1").getSelectedKey();var t=this.getView().byId("idGroup1").getSelectedItem().getText();window.open("/groupWiseEntryDownload?type=Group_Wise_Report&group="+e+"&name="+t)}else if(this.getView().byId("idNo").getSelected()){window.open("/groupWiseEntryDownload?type=Group_Wise_Report&group=01")}else{a.show("Please Select A Option");return}this.oDialog1.close()},onPressHandleEntrySavePopup11:function(){var e=this.getView().byId("pwd1").getValue();this.getView().byId("pwd1").setValue("");if(e==="Sarita@123"){this.oDialog2.close();var t=this.getView().byId("idCust").getValue();if(!t){}var i=this.getView().byId("idTable").getItems().length;var s=this;var a=this.getView();sap.m.MessageBox.confirm(s.resourceBundle.getText("Do11")+"("+i+")"+s.resourceBundle.getText("entries"),{title:"Confirm",actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],styleClass:"",onClose:function(e){var t=s;if(e==="OK"){$.post("/deleteRecords",{customerId:t.customerId,entityName:"Entry"}).done(function(e){sap.m.MessageToast.show(e.msg);sap.ui.getCore().byId("__component0---idEntry--idTable").getModel().refresh(true);sap.ui.getCore().byId("__component0---idEntry--idTC").setText("0");var t=sap.ui.getCore().byId("__component0---idEntry--idTC").getText();if(parseFloat(t)>0){sap.ui.getCore().byId("__component0---idEntry--idTC").setState("Success")}else{sap.ui.getCore().byId("__component0---idEntry--idTC").setState("Warning")}sap.ui.getCore().byId("__component0---idEntry--idG").setText("0");var t=sap.ui.getCore().byId("__component0---idEntry--idG").getText();if(parseFloat(t)>0){sap.ui.getCore().byId("__component0---idEntry--idG").setState("Success")}else{sap.ui.getCore().byId("__component0---idEntry--idG").setState("Warning")}sap.ui.getCore().byId("__component0---idEntry--idS").setText("0");var t=sap.ui.getCore().byId("__component0---idEntry--idS").getText();if(parseFloat(t)>0){sap.ui.getCore().byId("__component0---idEntry--idS").setState("Success")}else{sap.ui.getCore().byId("__component0---idEntry--idS").setState("Warning")}sap.ui.getCore().byId("__component0---idEntry--idTC").setState("Warning");sap.ui.getCore().byId("__component0---idEntry--idG").setText("Warning");sap.ui.getCore().byId("__component0---idEntry--idS").setText("Warning")})}else if(e==="CANCEL"){this.getView().setBusy(false)}}})}else{this.getView().byId("pwd1").setValueState("Error");this.getView().byId("pwd1").setValueStateText("Enter Correct Password");sap.m.MessageToast.show("Enter Correct Password")}},onSelectChange:function(e){var t=e.getSource().getId();var i=e.getParameter("selectedItem").mProperties.key;if(t==="__component0---idCustomers--idType"){this.getView().getModel("customerModel").setProperty("/Type",i);this.getView().byId("idCityField").focus()}if(t==="__component0---idCustomers--idGroup"){this.getView().getModel("customerModel").setProperty("/Group",i);this.getView().byId("idType").focus()}},toggleFullScreen:function(){var e="idFullScreenBtn";var t="__component0---idEntry--idcust1";this.toggleUiTable(e,t)},decimalvalidator1:function(e){if(e.mParameters.id==="__component0---idEntry--idCash"){$(function(){$("input").on("input.idCash",function(e){if(e.currentTarget.id=="__component0---idEntry--idCash-inner"){this.value=this.value.match(/^[+-]?\d{0,8}(\.\d{0,2})?/)[0]}})})}},decimalvalidator2:function(e){if(e.mParameters.id==="__component0---idEntry--idGold"){$(function(){$("input").on("input.idGold",function(e){if(e.currentTarget.id=="__component0---idEntry--idGold-inner"){this.value=this.value.match(/^[+-]?\d{0,6}(\.\d{0,3})?/)[0]}})})}},decimalvalidator3:function(e){if(e.mParameters.id==="__component0---idEntry--idSilver"){$(function(){$("input").on("input.idSilver",function(e){if(e.currentTarget.id=="__component0---idEntry--idSilver-inner"){this.value=this.value.match(/^[+-]?\d{0,5}(\.\d{0,2})?/)[0]}})})}},decimalvalidator4:function(e){if(e.mParameters.id==="__component0---idEntry--idweight"){$(function(){$("input").on("input.idweight",function(e){if(e.currentTarget.id=="__component0---idEntry--idweight-inner"){this.value=this.value.match(/^[+-]?\d{0,5}(\.\d{0,3})?/)[0]}})})}},decimalvalidator5:function(e){if(e.mParameters.id==="__component0---idEntry--idtunch"){$(function(){$("input").on("input.idtunch",function(e){if(e.currentTarget.id=="__component0---idEntry--idtunch-inner"){this.value=this.value.match(/^[+-]?\d{0,5}(\.\d{0,3})?/)[0]}})})}},onMaterialSelect:function(e){if(e.getParameter("selectedItem")){var t=e.getParameter("selectedItem").getModel().getProperty(e.getParameter("selectedItem").getBindingContext().getPath());var i=e.getParameter("selectedItem").getText();var s=e.getParameter("selectedItem").getAdditionalText();var a=e.getParameter("selectedItem").getKey();this.getView().byId("idMat").setValue(i);var d=s+" - "+i+" "+a;this.getView().byId("idMatText").setText(d);jQuery.sap.delayedCall(100,this,function(){this.getView().byId("idweight").focus();this.getView().byId("idweight").$().find("input").select()})}},onRemarksSubmit:function(e){this.getView().byId("sendButton").focus()},onSubmit:function(e){$(function(){$("input:text:first").focus();var e=$("input:text");e.bind("keypress",function(t){var i=t.which;if(i==13){t.preventDefault();var s=e.index(this)+1;$(":input:text:eq("+s+")").focus()}})})},onCashSubmit:function(e){this.getView().byId("idGold").focus();this.getView().byId("idGold").$().find("input").select()},onGoldSubmit:function(e){this.getView().byId("idSilver").focus();this.getView().byId("idSilver").$().find("input").select()},onSilverSubmit:function(e){this.getView().byId("idRemarks").focus()},onRemarksSubmit:function(e){this.getView().byId("sendButton").focus()},onSubmitSideWeight:function(e){this.getView().byId("idtunch").focus();this.getView().byId("idtunch").$().find("input").select()},onSubmitSideTunch:function(e){this.getView().byId("calculateButton").focus()},onKeyPress:function(e){var t=e.getSource();t.setValue(t.getValue().toUpperCase())},onSelect:function(e){jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idCust").focus()})},onPressEntryDownload:function(e){var t=e.getSource().getId();var i=this;var s="Entry";var a=this.getView().getModel("local").getProperty("/EntryData/Customer");var d=this.getView().byId("idCustText").getProperty("text").split("-")[0];var l=this.getView().byId("idCustText").getProperty("text").split("-")[1];var r=this.getView().byId("idCust").getValue();var o=this.getView().byId("idCustText").getText();if(a===""||a===undefined||r===""||r===undefined||o===""||o===undefined){sap.m.MessageBox.error(" Please Select a Customer ",{title:"Error"});return}if(t.includes("idEntryDownload2")){window.open("/entryDownload2?id="+a+"&type=Entry&name="+d+"&city="+l);return}window.open("/entryDownload?id="+a+"&type=Entry&name="+d+"&city="+l)},getImageUrlFromContent:function(e){if(e){var t=function(e){var t=atob(e.split(",")[1]);var i=new ArrayBuffer(t.length);var s=new Uint8Array(i);for(var a=0;a<t.length;a++){s[a]=t.charCodeAt(a)}return new Blob([i],{type:"image/jpeg"})};var i=t(e);return URL.createObjectURL(i)}},onRadioButtonSelect:function(e){if(this.getView().byId("RB-1").getSelected()||this.getView().byId("RB-2").getSelected()||this.getView().byId("RB-3").getSelected()||this.getView().byId("RB-5").getSelected()){this.getView().getModel("local").setProperty("/materialEnable",false);this.getView().byId("idMat").setValue("");this.getView().byId("idMatText").setText("");jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idweight").focus()})}else if(this.getView().byId("RB-4").getSelected()){this.getView().getModel("local").setProperty("/materialEnable",true);jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idMat").focus()})}},onConfirm:function(e){var t=e.getParameter("selectedItem").getModel().getProperty(e.getParameter("selectedItem").getBindingContext().getPath());var i=this;var s=this.getView().getModel("local").getProperty("/EntryData");var a=t.CustomerCode;var d=t.Name;this.getView().byId("idCust").setValue(a);this.getView().byId("idCustText").setText(d);this.getView().getModel("local").setProperty("/EntryData/Customer",t.id);this.getView().getModel("local").setProperty("/entryHeaderTemp/customerId",a);this.getView().getModel("local").getProperty("/EntryData",s);var l=new sap.ui.model.Filter("Customer","EQ","'"+s.Customer+"'");this.getView().byId("idTable").getBinding("items").filter(l);this.getView().byId("idTable1").getBinding("items").filter(l);this.getView().byId("idTable2").getBinding("items").filter(l);this.customerId=t.id;this.getView().byId("idCash").focus();this.getView().byId("idCash").$().find("input").select();$.post("/getTotalEntryCustomer",{Customer:s.Customer}).then(function(e){console.log(e);i.byId("idTC").setText(parseFloat(e.CashTotal).toFixed(2));i.byId("idTC").getText();parseFloat(i.byId("idTC").getText());if(parseFloat(i.byId("idTC").getText())>0){i.byId("idTC").setState("Success")}else{i.byId("idTC").setState("Warning")}i.getView().byId("idG").setText(parseFloat(e.GoldTotal.toFixed(3)));i.byId("idG").getText();parseFloat(i.byId("idG").getText());if(parseFloat(i.byId("idG").getText())>0){i.byId("idG").setState("Success")}else{i.byId("idG").setState("Warning")}i.getView().byId("idS").setText(parseFloat(e.SilverTotal.toFixed(2)));i.byId("idS").getText();parseFloat(i.byId("idS").getText());parseFloat(i.byId("idS").getText()).toFixed(3);if(parseFloat(parseFloat(i.byId("idS").getText()).toFixed(3))>0){i.byId("idS").setState("Success")}else{i.byId("idS").setState("Warning")}})},onSend:function(e){var t=this;if(this.getView().byId("idCust").getValue()===""){sap.m.MessageBox.show(t.resourceBundle.getText("Customer11"))}else{t.getView().setBusy(true);var i=this.getView().getModel("local").getProperty("/EntryData");i.Date=this.getView().byId("DateId").getDateValue();i.Product=this.getView().byId("idMat").getSelectedKey();i.Gold=this.getView().byId("idGold").getValue();i.Cash=this.getView().byId("idCash").getValue();i.Silver=this.getView().byId("idSilver").getValue();i.Remarks=this.getView().byId("idRemarks").getValue();i.Weight=this.getView().byId("idweight").getValue();i.Tunch=this.getView().byId("idtunch").getValue();i.DueDate=this.getView().byId("DueDateId").getDateValue();this.ODataHelper.callOData(this.getOwnerComponent().getModel(),"/Entrys","POST",{},i,this).then(function(e){t.getView().setBusy(false);sap.m.MessageToast.show(t.resourceBundle.getText("Data"));t.clearOnSend=true;t.onClear()}).catch(function(e){t.getView().setBusy(false);var i=t.getErrorMessage(e)});var s=this.getView().byId("idTC").getText();var a=parseFloat(this.byId("idTC").getText());var d=this.getView().byId("idCash").getValue();var l=parseFloat(this.byId("idCash").getValue());var r=a+l;r.toFixed(2);parseFloat(r.toFixed(2));this.byId("idTC").setText(parseFloat(r.toFixed(2)));var o=this.byId("idTC").getText();parseFloat(this.byId("idTC").getText()).toFixed(2);if(parseFloat(parseFloat(this.byId("idTC").getText()).toFixed(2))>0){t.byId("idTC").setState("Success")}else{t.byId("idTC").setState("Warning")}var s=this.getView().byId("idG").getText();var a=parseFloat(this.byId("idG").getText());var d=this.getView().byId("idGold").getValue();var l=parseFloat(this.byId("idGold").getValue());var r=a+l;r.toFixed(3);parseFloat(r.toFixed(3));this.byId("idG").setText(parseFloat(r.toFixed(3)));var o=this.byId("idG").getText();parseFloat(this.byId("idG").getText()).toFixed(3);if(parseFloat(parseFloat(this.byId("idG").getText()).toFixed(3))>0){t.byId("idG").setState("Success")}else{t.byId("idG").setState("Warning")}var s=this.getView().byId("idS").getText();var a=parseFloat(this.byId("idS").getText());var d=this.getView().byId("idSilver").getValue();var l=parseFloat(this.byId("idSilver").getValue());var r=a+l;r.toFixed(2);parseFloat(r.toFixed(2));this.byId("idS").setText(parseFloat(r.toFixed(2)));var o=this.byId("idS").getText();parseFloat(this.byId("idS").getText()).toFixed(2);if(parseFloat(parseFloat(this.byId("idS").getText()).toFixed(2))>0){t.byId("idS").setState("Success")}else{t.byId("idS").setState("Warning")}this.getView().byId("idMat").setValue("")}},onDelete:function(e){var t=this;var i=e.getSource().getParent().getParent().getId();var s=this.getView().getModel("local").getProperty("/EntryData/Customer");var a=this.getView().byId("idCust").getValue();var d=this.getView().byId("idCustText").getText();if(s===""||s===undefined||a===""||a===undefined){sap.m.MessageBox.error("Please Select a Customer for Delete Data",{title:"Error"});return}var i=e.getSource().getParent().getParent().getId();if(i.includes("idTable2")){var l=this.getView().byId("idTable2").getSelectedItems().length}else if(i.includes("idTable1")){l=this.getView().byId("idTable1").getSelectedItems().length}else{l=this.getView().byId("idTable").getSelectedItems().length}if(l===0){sap.m.MessageBox.alert(t.resourceBundle.getText("Selectoneentryonly1"))}else{sap.m.MessageBox.confirm("Deleting Selected Records",{title:"Confirm",actions:[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],styleClass:"",onClose:function(e){if(e==="OK"){if(i.includes("idTable2")){var s=t.getView().byId("idTable2").getSelectedItems()}else if(i.includes("idTable1")){s=t.getView().byId("idTable1").getSelectedItems()}else{s=t.getView().byId("idTable").getSelectedItems()}var a=0;var d=0;var l=0;if(s.length){for(var r=0;r<s.length;r++){var o=s[r].getBindingContext().sPath;t.ODataHelper.callOData(t.getOwnerComponent().getModel(),o,"DELETE",{},{},t);sap.ui.getCore().byId(i).getModel().refresh(true);var g=s[r].getBindingContext().getObject().Cash;var n=s[r].getBindingContext().getObject().Gold;var u=s[r].getBindingContext().getObject().Silver;if(g){a+=a+g-a}if(n){d+=d+n-d}if(u){l+=l+u-l}}var y=t.byId("idTC").getText();var h=parseFloat(y);var I=h-a;I.toFixed(2);parseFloat(I.toFixed(2));t.byId("idTC").setText(parseFloat(I.toFixed(2)));t.byId("idTC").getText();parseFloat(t.byId("idTC").getText());if(parseFloat(t.byId("idTC").getText())>0){t.byId("idTC").setState("Success")}else{t.byId("idTC").setState("Warning")}var b=t.byId("idG").getText();var c=parseFloat(b);var V=c-d;V.toFixed(3);parseFloat(V.toFixed(3));t.byId("idG").setText(parseFloat(V.toFixed(3)));t.byId("idG").getText();parseFloat(t.byId("idG").getText());if(parseFloat(t.byId("idG").getText())>0){t.byId("idG").setState("Success")}else{t.byId("idG").setState("Warning")}var p=t.byId("idS").getText();var w=parseFloat(p);var m=w-l;m.toFixed(2);parseFloat(m.toFixed(2));t.byId("idS").setText(parseFloat(m.toFixed(2)));t.byId("idS").getText();parseFloat(t.byId("idS").getText());if(parseFloat(t.byId("idS").getText())>0){t.byId("idS").setState("Success")}else{t.byId("idS").setState("Warning")}sap.m.MessageToast.show(t.resourceBundle.getText("SelectedData1"))}else{sap.m.MessageToast.show(t.resourceBundle.getText("NoRecordToDelete"))}}}})}},_getEditClear:function(){var e=this.getView().byId("CBID").getSelected();if(e===true){this.getView().byId("DateId").setDateValue(new Date);jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idCust").focus()});this.byId("idCust").getValue();this.byId("idCustText").getText();this.byId("idweight").setValue("0");this.byId("idRemarks").setValue("");this.byId("idCash").setValue("0");this.byId("idGold").setValue("0");this.byId("idSilver").setValue("0");this.byId("idtunch").setValue("0");this.byId("DueDateId").setDateValue(new Date)}else if(e===false){this.getView().byId("DateId").setDateValue(new Date);jQuery.sap.delayedCall(500,this,function(){this.getView().byId("idCust").focus()});this.byId("idCust").setValue("");this.byId("idCustText").setText("");this.byId("idweight").setValue("0");this.byId("idRemarks").setValue("");this.byId("idCash").setValue("0");this.byId("idGold").setValue("0");this.byId("idSilver").setValue("0");this.byId("idtunch").setValue("0");this.byId("idTC").setText("");this.byId("idG").setText("");this.byId("idS").setText("");this.byId("DueDateId").setDateValue(new Date)}},onClear:function(){var e=[];var t=this.getView().getModel("local").getProperty("/EntryData");var i=this.getView().byId("CBID").getSelected();if(i===true){if(this.clearOnSend){this.clearOnSend=false;this.getView().byId("DateId").setDateValue(new Date(t.Date));this.byId("idCust").getValue();this.byId("idCustText").getText()}else{this.getView().byId("DateId").setDateValue(new Date(t.Date));this.byId("idCust").setValue("");this.byId("idCustText").setText("");this.getView().byId("idTable").getBinding("items").filter(e);this.getView().byId("idTable1").getBinding("items").filter(e);this.getView().byId("idTable2").getBinding("items").filter(e)}jQuery.sap.delayedCall(100,this,function(){this.getView().byId("idCust").focus()});this.byId("idMat").setValue("");this.byId("idMatText").setText("");this.byId("idMatType").setText("");this.byId("idweight").setValue("0");this.byId("idRemarks").setValue("");this.byId("idCash").setValue("0");this.byId("idGold").setValue("0");this.byId("idSilver").setValue("0");this.byId("idtunch").setValue("0");this.byId("DueDateId").setDateValue(new Date)}else if(i===false){if(this.clearOnSend){this.clearOnSend=false;this.getView().byId("DateId").setDateValue(new Date(t.Date))}else{this.getView().byId("DateId").setDateValue(new Date(t.Date));this.getView().byId("idTable").getBinding("items").filter(e);this.getView().byId("idTable1").getBinding("items").filter(e);this.getView().byId("idTable2").getBinding("items").filter(e)}jQuery.sap.delayedCall(100,this,function(){this.getView().byId("idCust").focus()});this.byId("idCust").setValue("");this.byId("idCustText").setText("");this.byId("idMat").setValue("");this.byId("idMatText").setText("");this.byId("idMatType").setText("");this.byId("idweight").setValue("0");this.byId("idRemarks").setValue("");this.byId("idCash").setValue("0");this.byId("idGold").setValue("0");this.byId("idSilver").setValue("0");this.byId("idtunch").setValue("0");this.byId("idTC").setText("");this.byId("idG").setText("");this.byId("idS").setText("");this.byId("DueDateId").setDateValue(new Date);this.getView().byId("idTable").getBinding("items").filter([]);this.getView().byId("idTable1").getBinding("items").filter([]);this.getView().byId("idTable2").getBinding("items").filter([])}},_getDialog:function(e){if(!this.oDialog){this.oDialog=sap.ui.xmlfragment("entryDialog","victoria.fragments.entryDialog",this);this.getView().addDependent(this.oDialog)}this.oDialog.open();if(e.includes("idTable2")){var t=this.getView().byId("idTable2").getSelectedItem().getCells()[1].getText();sap.ui.getCore().byId("entryDialog--idDialog-title").setText(t);var i=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[0].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogDate").setValue(i);var s=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[2].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogCust").setValue(s);var a=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[4].mProperties.text;var d=parseFloat(a);sap.ui.getCore().byId("entryDialog--idDialogAmt").setValue(a);var l=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[5].mProperties.text;var r=parseFloat(l);sap.ui.getCore().byId("entryDialog--idDialogGold").setValue(l);var o=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[6].mProperties.text;var g=parseFloat(o);sap.ui.getCore().byId("entryDialog--idDialogSil").setValue(o);var n=this.getView().byId("idTable2").getSelectedItem().mAggregations.cells[7].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogRem").setValue(n)}else if(e.includes("idTable1")){var t=this.getView().byId("idTable1").getSelectedItem().getCells()[1].getText();sap.ui.getCore().byId("entryDialog--idDialog-title").setText(t);var i=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[0].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogDate").setValue(i);var s=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[2].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogCust").setValue(s);var a=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[4].mProperties.text;var d=parseFloat(a);sap.ui.getCore().byId("entryDialog--idDialogAmt").setValue(a);var l=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[5].mProperties.text;var r=parseFloat(l);sap.ui.getCore().byId("entryDialog--idDialogGold").setValue(l);var o=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[6].mProperties.text;var g=parseFloat(o);sap.ui.getCore().byId("entryDialog--idDialogSil").setValue(o);var n=this.getView().byId("idTable1").getSelectedItem().mAggregations.cells[7].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogRem").setValue(n)}else{var t=this.getView().byId("idTable").getSelectedItem().getCells()[1].getText();sap.ui.getCore().byId("entryDialog--idDialog-title").setText(t);var i=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[0].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogDate").setValue(i);var s=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[2].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogCust").setValue(s);var a=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[4].mProperties.text;var d=parseFloat(a);sap.ui.getCore().byId("entryDialog--idDialogAmt").setValue(a);var l=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[5].mProperties.text;var r=parseFloat(l);sap.ui.getCore().byId("entryDialog--idDialogGold").setValue(l);var o=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[6].mProperties.text;var g=parseFloat(o);sap.ui.getCore().byId("entryDialog--idDialogSil").setValue(o);var n=this.getView().byId("idTable").getSelectedItem().mAggregations.cells[7].mProperties.text;sap.ui.getCore().byId("entryDialog--idDialogRem").setValue(n)}},onPressHandleEntrySavePopup:function(e){var t=this;t.getView().setBusy(true);var i=this.getView().getModel("local").getProperty("/EntryData");i.Date=sap.ui.getCore().byId("entryDialog--idDialogDate").getValue();i.Gold=sap.ui.getCore().byId("entryDialog--idDialogGold").getValue();i.Cash=sap.ui.getCore().byId("entryDialog--idDialogAmt").getValue();i.Silver=sap.ui.getCore().byId("entryDialog--idDialogSil").getValue();i.Remarks=sap.ui.getCore().byId("entryDialog--idDialogRem").getValue();if(this.getView().byId("idTable2").getSelectedContextPaths().length){var s=this.getView().byId("idTable2").getSelectedContextPaths()[0].split("'")[1];var a="idTable2"}else if(this.getView().byId("idTable1").getSelectedContextPaths().length){s=this.getView().byId("idTable1").getSelectedContextPaths()[0].split("'")[1];a="idTable1"}else{s=this.getView().byId("idTable").getSelectedContextPaths()[0].split("'")[1];a="idTable"}this.ODataHelper.callOData(this.getOwnerComponent().getModel(),"/Entrys('"+s+"')","PUT",{},i,this).then(function(e){t.getView().setBusy(false);sap.m.MessageToast.show(t.resourceBundle.getText("Update111"));t.oDialog.close()}).catch(function(e){t.getView().setBusy(false);var i=t.getErrorMessage(e)});this.byId("idMat").setValue("");this.byId("idMatText").setText("");this.byId("idMatType").setText("");var d=sap.ui.getCore().byId("entryDialog--idDialogGold").getValue();var l=parseFloat(sap.ui.getCore().byId("entryDialog--idDialogGold").getValue());var r=sap.ui.getCore().byId("entryDialog--idDialogSil").getValue();var o=parseFloat(sap.ui.getCore().byId("entryDialog--idDialogSil").getValue());var g=sap.ui.getCore().byId("entryDialog--idDialogAmt").getValue();var n=parseFloat(sap.ui.getCore().byId("entryDialog--idDialogAmt").getValue());var u=this.getView().byId("idTC").getText();if(u>n){var y=u-n}if(u<n){var y=u-n}if(u==n){var y=u-n}var h=u-y;var I=this.getView().byId(a).getItems();var b=I.length;var c=0;var V=0;var p=0;if(I.length){for(var w=0;w<I.length;w++){var m=I[w].getBindingContext().getObject().Cash;if(m){c+=c+m-c}}}var f=c-parseFloat(this.getView().byId(a).getSelectedItem().getCells()[4].getText());var v=f+h;var C=v;C.toFixed(2);parseFloat(C.toFixed(2));this.byId("idTC").setText(parseFloat(C.toFixed(2)));var T=this.byId("idTC").getText();parseFloat(T);if(parseFloat(T)>0){t.byId("idTC").setState("Success")}else{t.byId("idTC").setState("Warning")}var u=this.getView().byId("idG").getText();if(u>l){var y=u-l}if(u<l){var y=u-l}if(u==l){var y=u-l}var h=u-y;var I=this.getView().byId(a).getItems();var b=I.length;var c=0;var V=0;var p=0;if(I.length){for(var w=0;w<I.length;w++){var x=I[w].getBindingContext().getObject().Gold;if(x){V+=V+x-V}}}var S=V-parseFloat(this.getView().byId(a).getSelectedItem().getCells()[5].getText());var D=S+h;var C=D;C.toFixed(3);parseFloat(C.toFixed(3));this.byId("idG").setText(parseFloat(C.toFixed(3)));var T=this.byId("idG").getText();parseFloat(T);if(parseFloat(T)>0){t.byId("idG").setState("Success")}else{t.byId("idG").setState("Warning")}var u=this.getView().byId("idS").getText();if(u>o){var y=u-o}if(u<o){var y=u-o}if(u==o){var y=u-o}var h=u-y;var I=this.getView().byId(a).getItems();var b=I.length;var c=0;var V=0;var p=0;if(I.length){for(var w=0;w<I.length;w++){var F=I[w].getBindingContext().getObject().Silver;if(F){p+=p+F-p}}}var G=p-parseFloat(this.getView().byId(a).getSelectedItem().getCells()[6].getText());var M=G+h;var C=M;C.toFixed(2);parseFloat(C.toFixed(2));this.byId("idS").setText(parseFloat(C.toFixed(2)));var T=this.byId("idS").getText();parseFloat(T);if(parseFloat(T)>0){t.byId("idS").setState("Success")}else{t.byId("idS").setState("Warning")}this.getView().byId("idTable1").getModel().refresh();this.getView().byId("idTable2").getModel().refresh();this.getView().byId("idTable").getModel().refresh()},onPressHandleEntryCancelPopup:function(){this.oDialog.close()},onPressHandleEntryCancelPopup1:function(){this.getView().byId("idGroup1").setEditable(false);this.oDialog1.close();if(this.getView().byId("id1").getSelected()){this.getView().byId("idGroup1").setEditable(true)}},onPressHandleEntryCancelPopup11:function(){this.oDialog2.close()},onEdit:function(e){var t=this;var i=e.getSource().getParent().getParent().getId();if(i.includes("idTable2")){var s=this.getView().byId("idTable2").getSelectedItems().length}else if(i.includes("idTable1")){s=this.getView().byId("idTable1").getSelectedItems().length}else{s=this.getView().byId("idTable").getSelectedItems().length}if(s>1){sap.m.MessageBox.alert(t.resourceBundle.getText("Selectoneentryonly"))}else if(s===0){sap.m.MessageBox.alert(t.resourceBundle.getText("Selectoneentryonly1"))}else{this._getDialog(i)}},onMasterClear:function(e){var t=this.getView().getModel("local").getProperty("/EntryData/Customer");var s=this.getView().byId("idCust").getValue();var a=this.getView().byId("idCustText").getText();if(t===""||t===undefined||s===""||s===undefined||a===""||a===undefined){sap.m.MessageBox.error(" Please Select a Customer ",{title:"Error"});return}if(this.getView().byId("idTable").getItems().length===0){i.error("No Data Found to delete in the Table");return}this.customerId=t;if(!this.oDialog2){this.oDialog2=new sap.ui.xmlfragment(this.getView().getId(),"victoria.fragments.entryGroupMaster",this);this.getView().addDependent(this.oDialog1);$("#pwd1").val("")}$('input[type="password"]').val("");$("#pwd1").val("");this.byId("pwd1").setValue("");this.oDialog2.open();this.byId("pwd1").setValue("");$('input[type="password"]').val("");$("#pwd1").val("");this.getView().byId("pwd1").setValue("")},onUpdateFinished:function(e){var t=e.getSource();var i=t.getItems();var s=i.length;var a=s<=20?0:s-20;var d;var l;console.log(s);var r=this.getView().getModel("i18n").getProperty("allEntries");this.getView().byId("idTitle").setText(r+" "+"("+s+")");for(var o=a;o<s;o++){var g=t.getItems()[o].getCells()[2].getText();var n=t.getItems()[o].getCells()[3].getText();var u=this.allMasterData.customers[g];var y=this.allMasterData.materials[n];t.getItems()[o].getCells()[1].setText(u.CustomerCode+" - "+u.Name);if(n!==""&&y!==undefined){t.getItems()[o].getCells()[3].setText(y.ProductCode+" - "+y.ProductName)}}},onUpdateFinished1:function(e){var t=e.getSource();var i=t.getItems();var s=i.length;var a=s<=20?0:s-20;var d;var l;console.log(s);var r=this.getView().getModel("i18n").getProperty("jamaEntries");this.getView().byId("idTitle1").setText(r+" "+"("+s+")");for(var o=a;o<s;o++){var g=t.getItems()[o].getCells()[2].getText();var n=t.getItems()[o].getCells()[3].getText();var u=this.allMasterData.customers[g];var y=this.allMasterData.materials[n];t.getItems()[o].getCells()[1].setText(u.CustomerCode+" - "+u.Name);if(n!==""&&y!==undefined){t.getItems()[o].getCells()[3].setText(y.ProductCode+" - "+y.ProductName)}}},onUpdateFinished2:function(e){var t=e.getSource();var i=t.getItems();var s=i.length;var a=s<=20?0:s-20;var d;var l;console.log(s);var r=this.getView().getModel("i18n").getProperty("naamEntries");this.getView().byId("idTitle2").setText(r+" "+"("+s+")");for(var o=a;o<s;o++){var g=t.getItems()[o].getCells()[2].getText();var n=t.getItems()[o].getCells()[3].getText();var u=this.allMasterData.customers[g];var y=this.allMasterData.materials[n];t.getItems()[o].getCells()[1].setText(u.CustomerCode+" - "+u.Name);if(n!==""&&y!==undefined){t.getItems()[o].getCells()[3].setText(y.ProductCode+" - "+y.ProductName)}}}})});